<html>

<head>
	<script type="text/javascript" src=
"https://code.jquery.com/jquery-1.12.0.min.js">
	</script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,
								initial-scale=1">
	<script src=
"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js">
	</script>
	<title>Status of Mobiles</title>
</head>
<style>
  body{
    margin-top:400px 500px;
    padding:100px;
  }
</style>
<body>

	<canvas id="bar-chart" width="1200" height="250">
	</canvas>
	<script>

		getData();

		async function getData() {
			const response = await fetch(
'http://localhost:8080/api/get');
			console.log(response);
			const data = await response.json();
			console.log(data);
		

			labels = ["status","mobiles_inactive_status","mobiles_damaged_status"];
			values = [data[0].status,data[0].mobiles_inactive_status,data[0].mobiles_damaged_status];
			


			new Chart(document.getElementById("bar-chart"), {
				type: 'pie',
				data: {
					labels: labels,
					datasets: [
						{
							label: "Status ",
							backgroundColor: ["#3e95cd",
											"#8e5ea2",
											"#3cba9f",
											"#e8c3b9",
											"#c45850",
											"#CD5C5C",
											"#40E0D0"],
							data: values
						}
					]
				},
				options: {
					legend: { display: false },
					title: {
						display: true,
						text: 'Status'
					}
				}
			});

		}

    

	</script>
 
</body>

</html>
